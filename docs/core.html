---

title: fastdot.core
keywords: fastai
sidebar: home_sidebar

summary: "Drawing graphs with graphviz."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Nodes">Nodes<a class="anchor-link" href="#Nodes">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dot" class="doc_header"><code>Dot</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L13" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dot</code>(<strong><code>defaults</code></strong>=<em><code>None</code></em>, <strong><code>rankdir</code></strong>=<em><code>'LR'</code></em>, <strong><code>directed</code></strong>=<em><code>True</code></em>, <strong><code>compound</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Create a <code>pydot.Dot</code> graph with fastai/fastdot style defaults</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="quote" class="doc_header"><code>quote</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L20" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>quote</code>(<strong><code>x</code></strong>, <strong><code>q</code></strong>=<em><code>'"'</code></em>)</p>
</blockquote>
<p>Surround <code>x</code> with <code>"</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Node" class="doc_header"><code>Node</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L38" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Node</code>(<strong><code>label</code></strong>, <strong><code>tooltip</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Create a <code>pydot.Node</code> with a unique name</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>pydot</code> uses the same name-based approach to identifying graph items as <code>graphviz</code>. However we would rather use python objects. Therefore, we patch <code>pydot</code> to use unique names.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="62pt" height="44pt"
 viewBox="0.00 0.00 62.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 58,-40 58,4 -4,4"/>
<!-- n89318e4603ec426c81f8571041bfebe7 -->
<g id="node1" class="node">
<title>n89318e4603ec426c81f8571041bfebe7</title>
<g id="a_node1"><a xlink:title="a">
<path fill="#ffffff" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If a 2-tuple is passed to <code>add_node</code>, then the 2nd element becomes the tooltip. You can also pass any <code>kwargs</code> that are accepted by <code>graphviz</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s2">&quot;My tooltip&quot;</span><span class="p">],</span> <span class="n">fillcolor</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">))</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="62pt" height="44pt"
 viewBox="0.00 0.00 62.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 58,-40 58,4 -4,4"/>
<!-- n9593f9867f914238a59a9c948a2ebb2a -->
<g id="node1" class="node">
<title>n9593f9867f914238a59a9c948a2ebb2a</title>
<g id="a_node1"><a xlink:title="My tooltip">
<path fill="#ffc0cb" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Keyword args can also be arbitrary functions, which will called with the node's label.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="k">lambda</span> <span class="n">o</span><span class="p">:</span><span class="s1">&#39;pink&#39;</span><span class="p">))</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="62pt" height="44pt"
 viewBox="0.00 0.00 62.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 58,-40 58,4 -4,4"/>
<!-- ne5c776355a264bf7b0da56497d05e307 -->
<g id="node1" class="node">
<title>ne5c776355a264bf7b0da56497d05e307</title>
<g id="a_node1"><a xlink:title="a">
<path fill="#ffc0cb" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Colors">Colors<a class="anchor-link" href="#Colors">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The callable kwargs functionality can be used to map labels to colors in a consistent way..</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="obj2node_color" class="doc_header"><code>obj2node_color</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L47" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>obj2node_color</code>(<strong><code>cm</code></strong>, <strong><code>minalpha</code></strong>, <strong><code>rangealpha</code></strong>, <strong><code>o</code></strong>)</p>
</blockquote>
<p>Create a consistent mapping from objects to colors, using colormap <code>cm</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">graph_colors1</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">obj2node_color</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;rainbow&#39;</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">160</span><span class="p">)</span>
<span class="n">graph_colors2</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">obj2node_color</span><span class="p">,</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;tab20&#39;</span><span class="p">),</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">160</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>These predefined color mapping functions provide a good range of colors and readable text.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="n">graph_colors1</span><span class="p">))</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="n">graph_colors1</span><span class="p">))</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="62pt" height="98pt"
 viewBox="0.00 0.00 62.00 98.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 94)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-94 58,-94 58,4 -4,4"/>
<!-- nde28925648c64f8e8d895d7a230d1b64 -->
<g id="node1" class="node">
<title>nde28925648c64f8e8d895d7a230d1b64</title>
<g id="a_node1"><a xlink:title="a">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- ne771f754cf2f44febfaeafa9c19c8bc0 -->
<g id="node2" class="node">
<title>ne771f754cf2f44febfaeafa9c19c8bc0</title>
<g id="a_node2"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M42,-90C42,-90 12,-90 12,-90 6,-90 0,-84 0,-78 0,-78 0,-66 0,-66 0,-60 6,-54 12,-54 12,-54 42,-54 42,-54 48,-54 54,-60 54,-66 54,-66 54,-78 54,-78 54,-84 48,-90 42,-90"/>
<text text-anchor="middle" x="27" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="n">graph_colors2</span><span class="p">))</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="n">graph_colors2</span><span class="p">))</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="62pt" height="98pt"
 viewBox="0.00 0.00 62.00 98.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 94)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-94 58,-94 58,4 -4,4"/>
<!-- n32e37a04333244aa85f3847db2201f18 -->
<g id="node1" class="node">
<title>n32e37a04333244aa85f3847db2201f18</title>
<g id="a_node1"><a xlink:title="a">
<path fill="#98df8a" fill-opacity="0.462745" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- n884565cdeb134063ac75731dd55eafb5 -->
<g id="node2" class="node">
<title>n884565cdeb134063ac75731dd55eafb5</title>
<g id="a_node2"><a xlink:title="b">
<path fill="#c5b0d5" fill-opacity="0.168627" stroke="#000000" d="M42,-90C42,-90 12,-90 12,-90 6,-90 0,-84 0,-78 0,-78 0,-66 0,-66 0,-60 6,-54 12,-54 12,-54 42,-54 42,-54 48,-54 54,-60 54,-66 54,-66 54,-78 54,-78 54,-84 48,-90 42,-90"/>
<text text-anchor="middle" x="27" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We'll use the former color function as our default. You can change it by simply modifying <a href="core.html#node_defaults"><code>node_defaults</code></a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Clusters-and-Items">Clusters and Items<a class="anchor-link" href="#Clusters-and-Items">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Cluster" class="doc_header"><code>Cluster</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L62" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Cluster</code>(<strong><code>label</code></strong>=<em><code>''</code></em>, <strong><code>tooltip</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>style</code></strong>=<em><code>'rounded, filled'</code></em>, <strong><code>fillcolor</code></strong>=<em><code>'#55555522'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Create a <code>pydot.Cluster</code> with a unique name</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">sg</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="s1">&#39;clus&#39;</span><span class="p">,</span> <span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Cluster tooltip&#39;</span><span class="p">)</span>
<span class="n">sg</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">([</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s2">&quot;My tooltip&quot;</span><span class="p">]))</span>
<span class="n">sg</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;n2&#39;</span><span class="p">))</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_subgraph</span><span class="p">(</span><span class="n">sg</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="94pt" height="153pt"
 viewBox="0.00 0.00 94.00 153.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 149)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-149 90,-149 90,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_n8fef2b2e1fde4530a2663dbc723a7a87</title>
<g id="a_clust1"><a xlink:title="Cluster tooltip">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-8C20,-8 66,-8 66,-8 72,-8 78,-14 78,-20 78,-20 78,-125 78,-125 78,-131 72,-137 66,-137 66,-137 20,-137 20,-137 14,-137 8,-131 8,-125 8,-125 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="43" y="-121.8" font-family="Times,serif" font-size="14.00" fill="#000000">clus</text>
</a>
</g>
</g>
<!-- n882c45468e294575a7e239f88b12897b -->
<g id="node1" class="node">
<title>n882c45468e294575a7e239f88b12897b</title>
<g id="a_node1"><a xlink:title="My tooltip">
<path fill="#32e3da" fill-opacity="0.525490" stroke="#000000" d="M58,-106C58,-106 28,-106 28,-106 22,-106 16,-100 16,-94 16,-94 16,-82 16,-82 16,-76 22,-70 28,-70 28,-70 58,-70 58,-70 64,-70 70,-76 70,-82 70,-82 70,-94 70,-94 70,-100 64,-106 58,-106"/>
<text text-anchor="middle" x="43" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">n</text>
</a>
</g>
</g>
<!-- n6bffd4326c45423090d6aa949876c95a -->
<g id="node2" class="node">
<title>n6bffd4326c45423090d6aa949876c95a</title>
<g id="a_node2"><a xlink:title="n2">
<path fill="#50f4cc" fill-opacity="0.215686" stroke="#000000" d="M58,-52C58,-52 28,-52 28,-52 22,-52 16,-46 16,-40 16,-40 16,-28 16,-28 16,-22 22,-16 28,-16 28,-16 58,-16 58,-16 64,-16 70,-22 70,-28 70,-28 70,-40 70,-40 70,-46 64,-52 58,-52"/>
<text text-anchor="middle" x="43" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">n2</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.nodes" class="doc_header"><code>Graph.nodes</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.nodes</code>()</p>
</blockquote>
<p><code>i</code>th node in <code>Graph</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.__getitem__" class="doc_header"><code>Graph.__getitem__</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L74" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.__getitem__</code>(<strong><code>i</code></strong>)</p>
</blockquote>
<p><code>i</code>th node in <code>Graph</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can subscript into a <code>Graph</code>'s <a href="core.html#Node"><code>Node</code></a>s by index:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_label</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#34;n&#34;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.add_item" class="doc_header"><code>Graph.add_item</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L80" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.add_item</code>(<strong><code>item</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Add a <a href="core.html#Cluster"><code>Cluster</code></a>, <a href="core.html#Node"><code>Node</code></a>, or <code>Edge</code> to the <code>Graph</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There's no good reason to have different methods for adding clusters vs nodes, so we provide a single method.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">sg</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="s1">&#39;clus&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">sg</span><span class="p">)</span>
<span class="n">sg</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="94pt" height="99pt"
 viewBox="0.00 0.00 94.00 99.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 95)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-95 90,-95 90,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_ne58998c43b374a15ba3a746c429300f3</title>
<g id="a_clust1"><a xlink:title="clus">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-8C20,-8 66,-8 66,-8 72,-8 78,-14 78,-20 78,-20 78,-71 78,-71 78,-77 72,-83 66,-83 66,-83 20,-83 20,-83 14,-83 8,-77 8,-71 8,-71 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="43" y="-67.8" font-family="Times,serif" font-size="14.00" fill="#000000">clus</text>
</a>
</g>
</g>
<!-- nce1d1c1bfb1349a395238b46a186a4f3 -->
<g id="node1" class="node">
<title>nce1d1c1bfb1349a395238b46a186a4f3</title>
<g id="a_node1"><a xlink:title="n">
<path fill="#32e3da" fill-opacity="0.525490" stroke="#000000" d="M58,-52C58,-52 28,-52 28,-52 22,-52 16,-46 16,-40 16,-40 16,-28 16,-28 16,-22 22,-16 28,-16 28,-16 58,-16 58,-16 64,-16 70,-22 70,-28 70,-28 70,-40 70,-40 70,-46 64,-52 58,-52"/>
<text text-anchor="middle" x="43" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">n</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.add_items" class="doc_header"><code>Graph.add_items</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L91" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.add_items</code>(<strong>*<code>items</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Add <code>items</code> the <code>Graph</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sg</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="s1">&#39;clus&#39;</span><span class="p">)</span>
<span class="n">sg</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="s1">&#39;n2&#39;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">sg</span><span class="p">,</span> <span class="s1">&#39;n3&#39;</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="94pt" height="189pt"
 viewBox="0.00 0.00 94.00 189.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 185)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-185 90,-185 90,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_nb4327ff70a4d4b8c8a1323b17ea2630a</title>
<g id="a_clust1"><a xlink:title="clus">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-8C20,-8 66,-8 66,-8 72,-8 78,-14 78,-20 78,-20 78,-125 78,-125 78,-131 72,-137 66,-137 66,-137 20,-137 20,-137 14,-137 8,-131 8,-125 8,-125 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="43" y="-121.8" font-family="Times,serif" font-size="14.00" fill="#000000">clus</text>
</a>
</g>
</g>
<!-- nb58eb76ef06d47798c86151e5303cb73 -->
<g id="node1" class="node">
<title>nb58eb76ef06d47798c86151e5303cb73</title>
<g id="a_node1"><a xlink:title="n1">
<path fill="#8000ff" fill-opacity="0.435294" stroke="#000000" d="M58,-106C58,-106 28,-106 28,-106 22,-106 16,-100 16,-94 16,-94 16,-82 16,-82 16,-76 22,-70 28,-70 28,-70 58,-70 58,-70 64,-70 70,-76 70,-82 70,-82 70,-94 70,-94 70,-100 64,-106 58,-106"/>
<text text-anchor="middle" x="43" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">n1</text>
</a>
</g>
</g>
<!-- n84f62c4ce0b3467d82de1233a255831e -->
<g id="node2" class="node">
<title>n84f62c4ce0b3467d82de1233a255831e</title>
<g id="a_node2"><a xlink:title="n2">
<path fill="#50f4cc" fill-opacity="0.215686" stroke="#000000" d="M58,-52C58,-52 28,-52 28,-52 22,-52 16,-46 16,-40 16,-40 16,-28 16,-28 16,-22 22,-16 28,-16 28,-16 58,-16 58,-16 64,-16 70,-22 70,-28 70,-28 70,-40 70,-40 70,-46 64,-52 58,-52"/>
<text text-anchor="middle" x="43" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">n2</text>
</a>
</g>
</g>
<!-- n998b216bb72a414a90da8701b85b80b6 -->
<g id="node3" class="node">
<title>n998b216bb72a414a90da8701b85b80b6</title>
<g id="a_node3"><a xlink:title="n3">
<path fill="#ff9850" fill-opacity="0.345098" stroke="#000000" d="M58,-181C58,-181 28,-181 28,-181 22,-181 16,-175 16,-169 16,-169 16,-157 16,-157 16,-151 22,-145 28,-145 28,-145 58,-145 58,-145 64,-145 70,-151 70,-157 70,-157 70,-169 70,-169 70,-175 64,-181 58,-181"/>
<text text-anchor="middle" x="43" y="-159.3" font-family="Times,serif" font-size="14.00" fill="#000000">n3</text>
</a>
</g>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Edges">Edges<a class="anchor-link" href="#Edges">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.first" class="doc_header"><code>Graph.first</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L97" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.first</code>()</p>
</blockquote>
<p>First node in <code>Graph</code>, searching subgraphs recursively as needed</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.last" class="doc_header"><code>Graph.last</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L107" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.last</code>()</p>
</blockquote>
<p>Lastt node in <code>Graph</code>, searching subgraphs recursively as needed</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Node.with_compass" class="doc_header"><code>Node.with_compass</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L117" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Node.with_compass</code>(<strong><code>compass</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.with_compass" class="doc_header"><code>Graph.with_compass</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L117" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.with_compass</code>(<strong><code>compass</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Node.connect" class="doc_header"><code>Node.connect</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L123" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Node.connect</code>(<strong><code>item</code></strong>, <strong><code>compass1</code></strong>=<em><code>None</code></em>, <strong><code>compass2</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Connect two nodes or clusters</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.connect" class="doc_header"><code>Graph.connect</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L123" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.connect</code>(<strong><code>item</code></strong>, <strong><code>compass1</code></strong>=<em><code>None</code></em>, <strong><code>compass2</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Connect two nodes or clusters</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sg2</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="s1">&#39;clus2&#39;</span><span class="p">)</span>
<span class="n">n1</span> <span class="o">=</span> <span class="n">sg2</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">sg2</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">)</span>
<span class="n">sg2</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">n2</span><span class="p">))</span>

<span class="n">sg1</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="s1">&#39;clus1&#39;</span><span class="p">)</span>
<span class="n">sg1</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">sg2</span><span class="p">)</span>

<span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span><span class="n">Node</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">edges</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">b</span><span class="p">),</span><span class="n">a</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="n">sg1</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">b</span><span class="p">),</span><span class="n">sg2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">sg1</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">*</span><span class="n">edges</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="266pt" height="192pt"
 viewBox="0.00 0.00 266.00 192.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 188)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-188 262,-188 262,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_nea7ba432dc8e4840ac350f1ae416a737</title>
<g id="a_clust1"><a xlink:title="clus1">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-62C20,-62 172,-62 172,-62 178,-62 184,-68 184,-74 184,-74 184,-164 184,-164 184,-170 178,-176 172,-176 172,-176 20,-176 20,-176 14,-176 8,-170 8,-164 8,-164 8,-74 8,-74 8,-68 14,-62 20,-62"/>
<text text-anchor="middle" x="96" y="-160.8" font-family="Times,serif" font-size="14.00" fill="#000000">clus1</text>
</a>
</g>
</g>
<g id="clust2" class="cluster">
<title>cluster_nc35dd237eec14281bf3104f496ffc836</title>
<g id="a_clust2"><a xlink:title="clus2">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M28,-70C28,-70 164,-70 164,-70 170,-70 176,-76 176,-82 176,-82 176,-133 176,-133 176,-139 170,-145 164,-145 164,-145 28,-145 28,-145 22,-145 16,-139 16,-133 16,-133 16,-82 16,-82 16,-76 22,-70 28,-70"/>
<text text-anchor="middle" x="96" y="-129.8" font-family="Times,serif" font-size="14.00" fill="#000000">clus2</text>
</a>
</g>
</g>
<!-- nf935df9fc3c54a02bdf2884fc5c7276a -->
<g id="node1" class="node">
<title>nf935df9fc3c54a02bdf2884fc5c7276a</title>
<g id="a_node1"><a xlink:title="n1">
<path fill="#ffc0cb" stroke="#000000" d="M66,-114C66,-114 36,-114 36,-114 30,-114 24,-108 24,-102 24,-102 24,-90 24,-90 24,-84 30,-78 36,-78 36,-78 66,-78 66,-78 72,-78 78,-84 78,-90 78,-90 78,-102 78,-102 78,-108 72,-114 66,-114"/>
<text text-anchor="middle" x="51" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000">n1</text>
</a>
</g>
</g>
<!-- n9a93e732ee284e229acb82d3b08156c0 -->
<g id="node2" class="node">
<title>n9a93e732ee284e229acb82d3b08156c0</title>
<g id="a_node2"><a xlink:title="n2">
<path fill="#add8e6" stroke="#000000" d="M156,-114C156,-114 126,-114 126,-114 120,-114 114,-108 114,-102 114,-102 114,-90 114,-90 114,-84 120,-78 126,-78 126,-78 156,-78 156,-78 162,-78 168,-84 168,-90 168,-90 168,-102 168,-102 168,-108 162,-114 156,-114"/>
<text text-anchor="middle" x="141" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000">n2</text>
</a>
</g>
</g>
<!-- nf935df9fc3c54a02bdf2884fc5c7276a&#45;&gt;n9a93e732ee284e229acb82d3b08156c0 -->
<g id="edge1" class="edge">
<title>nf935df9fc3c54a02bdf2884fc5c7276a&#45;&gt;n9a93e732ee284e229acb82d3b08156c0</title>
<path fill="none" stroke="#000000" d="M78.003,-96C86.0277,-96 94.9665,-96 103.5309,-96"/>
<polygon fill="#000000" stroke="#000000" points="103.7051,-99.5001 113.705,-96 103.705,-92.5001 103.7051,-99.5001"/>
</g>
<!-- ne32da6c31c164935a3dcb906271a0826 -->
<g id="node3" class="node">
<title>ne32da6c31c164935a3dcb906271a0826</title>
<g id="a_node3"><a xlink:title="a">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M156,-36C156,-36 126,-36 126,-36 120,-36 114,-30 114,-24 114,-24 114,-12 114,-12 114,-6 120,0 126,0 126,0 156,0 156,0 162,0 168,-6 168,-12 168,-12 168,-24 168,-24 168,-30 162,-36 156,-36"/>
<text text-anchor="middle" x="141" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- nf935df9fc3c54a02bdf2884fc5c7276a&#45;&gt;ne32da6c31c164935a3dcb906271a0826 -->
<g id="edge5" class="edge">
<title>nf935df9fc3c54a02bdf2884fc5c7276a&#45;&gt;ne32da6c31c164935a3dcb906271a0826</title>
<path fill="none" stroke="#000000" d="M71.874,-77.9092C83.8287,-67.5484 99.0087,-54.3925 112.0964,-43.0498"/>
<polygon fill="#000000" stroke="#000000" points="114.6628,-45.4572 119.9274,-36.2629 110.0782,-40.1673 114.6628,-45.4572"/>
</g>
<!-- n20dc918d48c54ce284d8cf4d99ed0c5d -->
<g id="node4" class="node">
<title>n20dc918d48c54ce284d8cf4d99ed0c5d</title>
<g id="a_node4"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M246,-75C246,-75 216,-75 216,-75 210,-75 204,-69 204,-63 204,-63 204,-51 204,-51 204,-45 210,-39 216,-39 216,-39 246,-39 246,-39 252,-39 258,-45 258,-51 258,-51 258,-63 258,-63 258,-69 252,-75 246,-75"/>
<text text-anchor="middle" x="231" y="-53.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- n9a93e732ee284e229acb82d3b08156c0&#45;&gt;n20dc918d48c54ce284d8cf4d99ed0c5d -->
<g id="edge4" class="edge">
<title>n9a93e732ee284e229acb82d3b08156c0&#45;&gt;n20dc918d48c54ce284d8cf4d99ed0c5d</title>
<path fill="none" stroke="#000000" d="M183.9974,-77.3678C187.4688,-75.8635 190.9562,-74.3523 194.3766,-72.8701"/>
<polygon fill="#000000" stroke="#000000" points="195.9211,-76.0154 203.705,-68.8278 193.1378,-69.5925 195.9211,-76.0154"/>
</g>
<!-- ne32da6c31c164935a3dcb906271a0826&#45;&gt;ne32da6c31c164935a3dcb906271a0826 -->
<g id="edge3" class="edge">
<title>ne32da6c31c164935a3dcb906271a0826&#45;&gt;ne32da6c31c164935a3dcb906271a0826</title>
<path fill="none" stroke="#000000" d="M124.7183,-36.1527C122.2134,-45.5391 127.6406,-54 141,-54 149.1409,-54 154.3362,-50.8581 156.5861,-46.2796"/>
<polygon fill="#000000" stroke="#000000" points="160.0881,-46.3691 157.2817,-36.1527 153.1046,-45.8893 160.0881,-46.3691"/>
</g>
<!-- ne32da6c31c164935a3dcb906271a0826&#45;&gt;n20dc918d48c54ce284d8cf4d99ed0c5d -->
<g id="edge2" class="edge">
<title>ne32da6c31c164935a3dcb906271a0826&#45;&gt;n20dc918d48c54ce284d8cf4d99ed0c5d</title>
<path fill="none" stroke="#000000" d="M168.003,-29.7013C176.2922,-33.2933 185.5569,-37.308 194.3766,-41.1299"/>
<polygon fill="#000000" stroke="#000000" points="193.1378,-44.4075 203.705,-45.1722 195.9211,-37.9846 193.1378,-44.4075"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Sequential">Sequential<a class="anchor-link" href="#Sequential">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="graph_edges_seq" class="doc_header"><code>graph_edges_seq</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L137" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>graph_edges_seq</code>(<strong><code>items</code></strong>)</p>
</blockquote>
<p>Add edges between each pair of nodes in <code>items</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Graph.add_edges_seq" class="doc_header"><code>Graph.add_edges_seq</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L142" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Graph.add_edges_seq</code>(<strong><code>items</code></strong>)</p>
</blockquote>
<p>Add edges between each pair of nodes in <code>items</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">its</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_edges_seq</span><span class="p">(</span><span class="n">its</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="242pt" height="44pt"
 viewBox="0.00 0.00 242.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 238,-40 238,4 -4,4"/>
<!-- n7353bd252d324932b478470f8e160432 -->
<g id="node1" class="node">
<title>n7353bd252d324932b478470f8e160432</title>
<g id="a_node1"><a xlink:title="a">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- na5b9f3a5bc09483c84b38af21829ccea -->
<g id="node2" class="node">
<title>na5b9f3a5bc09483c84b38af21829ccea</title>
<g id="a_node2"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M132,-36C132,-36 102,-36 102,-36 96,-36 90,-30 90,-24 90,-24 90,-12 90,-12 90,-6 96,0 102,0 102,0 132,0 132,0 138,0 144,-6 144,-12 144,-12 144,-24 144,-24 144,-30 138,-36 132,-36"/>
<text text-anchor="middle" x="117" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- n7353bd252d324932b478470f8e160432&#45;&gt;na5b9f3a5bc09483c84b38af21829ccea -->
<g id="edge1" class="edge">
<title>n7353bd252d324932b478470f8e160432&#45;&gt;na5b9f3a5bc09483c84b38af21829ccea</title>
<path fill="none" stroke="#000000" d="M54.003,-18C62.0277,-18 70.9665,-18 79.5309,-18"/>
<polygon fill="#000000" stroke="#000000" points="79.7051,-21.5001 89.705,-18 79.705,-14.5001 79.7051,-21.5001"/>
</g>
<!-- nccd8aa1079734424beb6bd1a8ab44423 -->
<g id="node3" class="node">
<title>nccd8aa1079734424beb6bd1a8ab44423</title>
<g id="a_node3"><a xlink:title="c">
<path fill="#84ffb2" fill-opacity="0.317647" stroke="#000000" d="M222,-36C222,-36 192,-36 192,-36 186,-36 180,-30 180,-24 180,-24 180,-12 180,-12 180,-6 186,0 192,0 192,0 222,0 222,0 228,0 234,-6 234,-12 234,-12 234,-24 234,-24 234,-30 228,-36 222,-36"/>
<text text-anchor="middle" x="207" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</a>
</g>
</g>
<!-- na5b9f3a5bc09483c84b38af21829ccea&#45;&gt;nccd8aa1079734424beb6bd1a8ab44423 -->
<g id="edge2" class="edge">
<title>na5b9f3a5bc09483c84b38af21829ccea&#45;&gt;nccd8aa1079734424beb6bd1a8ab44423</title>
<path fill="none" stroke="#000000" d="M144.003,-18C152.0277,-18 160.9665,-18 169.5309,-18"/>
<polygon fill="#000000" stroke="#000000" points="169.7051,-21.5001 179.705,-18 169.705,-14.5001 169.7051,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="seq_cluster" class="doc_header"><code>seq_cluster</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L148" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>seq_cluster</code>(<strong><code>items</code></strong>, <strong><code>cluster_label</code></strong>=<em><code>''</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">seq_cluster</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="s1">&#39;clust&#39;</span><span class="p">))</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="274pt" height="99pt"
 viewBox="0.00 0.00 274.00 99.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 95)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-95 270,-95 270,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_naef92abb309d43849d651ca2d0cfbee4</title>
<g id="a_clust1"><a xlink:title="clust">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-8C20,-8 246,-8 246,-8 252,-8 258,-14 258,-20 258,-20 258,-71 258,-71 258,-77 252,-83 246,-83 246,-83 20,-83 20,-83 14,-83 8,-77 8,-71 8,-71 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="133" y="-67.8" font-family="Times,serif" font-size="14.00" fill="#000000">clust</text>
</a>
</g>
</g>
<!-- n99f74f1972e24b299c284830ee4fa888 -->
<g id="node1" class="node">
<title>n99f74f1972e24b299c284830ee4fa888</title>
<g id="a_node1"><a xlink:title="a">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M58,-52C58,-52 28,-52 28,-52 22,-52 16,-46 16,-40 16,-40 16,-28 16,-28 16,-22 22,-16 28,-16 28,-16 58,-16 58,-16 64,-16 70,-22 70,-28 70,-28 70,-40 70,-40 70,-46 64,-52 58,-52"/>
<text text-anchor="middle" x="43" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- n1b80c260a8b84d91b8f7b9eba89ada87 -->
<g id="node2" class="node">
<title>n1b80c260a8b84d91b8f7b9eba89ada87</title>
<g id="a_node2"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M148,-52C148,-52 118,-52 118,-52 112,-52 106,-46 106,-40 106,-40 106,-28 106,-28 106,-22 112,-16 118,-16 118,-16 148,-16 148,-16 154,-16 160,-22 160,-28 160,-28 160,-40 160,-40 160,-46 154,-52 148,-52"/>
<text text-anchor="middle" x="133" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- n99f74f1972e24b299c284830ee4fa888&#45;&gt;n1b80c260a8b84d91b8f7b9eba89ada87 -->
<g id="edge1" class="edge">
<title>n99f74f1972e24b299c284830ee4fa888&#45;&gt;n1b80c260a8b84d91b8f7b9eba89ada87</title>
<path fill="none" stroke="#000000" d="M70.003,-34C78.0277,-34 86.9665,-34 95.5309,-34"/>
<polygon fill="#000000" stroke="#000000" points="95.7051,-37.5001 105.705,-34 95.705,-30.5001 95.7051,-37.5001"/>
</g>
<!-- n16eb344fed25455a9a2d001e9dc5864a -->
<g id="node3" class="node">
<title>n16eb344fed25455a9a2d001e9dc5864a</title>
<g id="a_node3"><a xlink:title="c">
<path fill="#84ffb2" fill-opacity="0.317647" stroke="#000000" d="M238,-52C238,-52 208,-52 208,-52 202,-52 196,-46 196,-40 196,-40 196,-28 196,-28 196,-22 202,-16 208,-16 208,-16 238,-16 238,-16 244,-16 250,-22 250,-28 250,-28 250,-40 250,-40 250,-46 244,-52 238,-52"/>
<text text-anchor="middle" x="223" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</a>
</g>
</g>
<!-- n1b80c260a8b84d91b8f7b9eba89ada87&#45;&gt;n16eb344fed25455a9a2d001e9dc5864a -->
<g id="edge2" class="edge">
<title>n1b80c260a8b84d91b8f7b9eba89ada87&#45;&gt;n16eb344fed25455a9a2d001e9dc5864a</title>
<path fill="none" stroke="#000000" d="M160.003,-34C168.0277,-34 176.9665,-34 185.5309,-34"/>
<polygon fill="#000000" stroke="#000000" points="185.7051,-37.5001 195.705,-34 185.705,-30.5001 185.7051,-37.5001"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sg1</span> <span class="o">=</span> <span class="n">seq_cluster</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="s1">&#39;clust1&#39;</span><span class="p">)</span>
<span class="n">sg2</span> <span class="o">=</span> <span class="n">seq_cluster</span><span class="p">([</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span><span class="s1">&#39;a2&#39;</span><span class="p">,</span><span class="n">sg1</span><span class="p">],</span> <span class="s1">&#39;clust2&#39;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">sg2</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="462pt" height="138pt"
 viewBox="0.00 0.00 462.00 138.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 134)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-134 458,-134 458,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_n4e39af1c9667474e921eb5143c02a920</title>
<g id="a_clust1"><a xlink:title="clust2">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-8C20,-8 434,-8 434,-8 440,-8 446,-14 446,-20 446,-20 446,-110 446,-110 446,-116 440,-122 434,-122 434,-122 20,-122 20,-122 14,-122 8,-116 8,-110 8,-110 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="227" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#000000">clust2</text>
</a>
</g>
</g>
<g id="clust2" class="cluster">
<title>cluster_ne0cef2bf7de3440ab8c2ac12f6985219</title>
<g id="a_clust2"><a xlink:title="clust1">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M200,-16C200,-16 426,-16 426,-16 432,-16 438,-22 438,-28 438,-28 438,-79 438,-79 438,-85 432,-91 426,-91 426,-91 200,-91 200,-91 194,-91 188,-85 188,-79 188,-79 188,-28 188,-28 188,-22 194,-16 200,-16"/>
<text text-anchor="middle" x="313" y="-75.8" font-family="Times,serif" font-size="14.00" fill="#000000">clust1</text>
</a>
</g>
</g>
<!-- na259485e8845448ba4ec9dc5d10c593c -->
<g id="node1" class="node">
<title>na259485e8845448ba4ec9dc5d10c593c</title>
<g id="a_node1"><a xlink:title="a1">
<path fill="#3ae8d6" fill-opacity="0.290196" stroke="#000000" d="M58,-60C58,-60 28,-60 28,-60 22,-60 16,-54 16,-48 16,-48 16,-36 16,-36 16,-30 22,-24 28,-24 28,-24 58,-24 58,-24 64,-24 70,-30 70,-36 70,-36 70,-48 70,-48 70,-54 64,-60 58,-60"/>
<text text-anchor="middle" x="43" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#000000">a1</text>
</a>
</g>
</g>
<!-- nba387262298b49f197fad20574b52ae9 -->
<g id="node2" class="node">
<title>nba387262298b49f197fad20574b52ae9</title>
<g id="a_node2"><a xlink:title="a2">
<path fill="#17cbe4" fill-opacity="0.219608" stroke="#000000" d="M148,-60C148,-60 118,-60 118,-60 112,-60 106,-54 106,-48 106,-48 106,-36 106,-36 106,-30 112,-24 118,-24 118,-24 148,-24 148,-24 154,-24 160,-30 160,-36 160,-36 160,-48 160,-48 160,-54 154,-60 148,-60"/>
<text text-anchor="middle" x="133" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#000000">a2</text>
</a>
</g>
</g>
<!-- na259485e8845448ba4ec9dc5d10c593c&#45;&gt;nba387262298b49f197fad20574b52ae9 -->
<g id="edge3" class="edge">
<title>na259485e8845448ba4ec9dc5d10c593c&#45;&gt;nba387262298b49f197fad20574b52ae9</title>
<path fill="none" stroke="#000000" d="M70.003,-42C78.0277,-42 86.9665,-42 95.5309,-42"/>
<polygon fill="#000000" stroke="#000000" points="95.7051,-45.5001 105.705,-42 95.705,-38.5001 95.7051,-45.5001"/>
</g>
<!-- nb20e4d9fe8f940768f3cf6e08af2076c -->
<g id="node3" class="node">
<title>nb20e4d9fe8f940768f3cf6e08af2076c</title>
<g id="a_node3"><a xlink:title="a">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M238,-60C238,-60 208,-60 208,-60 202,-60 196,-54 196,-48 196,-48 196,-36 196,-36 196,-30 202,-24 208,-24 208,-24 238,-24 238,-24 244,-24 250,-30 250,-36 250,-36 250,-48 250,-48 250,-54 244,-60 238,-60"/>
<text text-anchor="middle" x="223" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- nba387262298b49f197fad20574b52ae9&#45;&gt;nb20e4d9fe8f940768f3cf6e08af2076c -->
<g id="edge4" class="edge">
<title>nba387262298b49f197fad20574b52ae9&#45;&gt;nb20e4d9fe8f940768f3cf6e08af2076c</title>
<path fill="none" stroke="#000000" d="M160.003,-42C168.0277,-42 176.9665,-42 185.5309,-42"/>
<polygon fill="#000000" stroke="#000000" points="178.0001,-45.5004 188,-42 177.9999,-38.5004 178.0001,-45.5004"/>
</g>
<!-- n2a0462e069864f3294925fda1831b656 -->
<g id="node4" class="node">
<title>n2a0462e069864f3294925fda1831b656</title>
<g id="a_node4"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M328,-60C328,-60 298,-60 298,-60 292,-60 286,-54 286,-48 286,-48 286,-36 286,-36 286,-30 292,-24 298,-24 298,-24 328,-24 328,-24 334,-24 340,-30 340,-36 340,-36 340,-48 340,-48 340,-54 334,-60 328,-60"/>
<text text-anchor="middle" x="313" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- nb20e4d9fe8f940768f3cf6e08af2076c&#45;&gt;n2a0462e069864f3294925fda1831b656 -->
<g id="edge1" class="edge">
<title>nb20e4d9fe8f940768f3cf6e08af2076c&#45;&gt;n2a0462e069864f3294925fda1831b656</title>
<path fill="none" stroke="#000000" d="M250.003,-42C258.0277,-42 266.9665,-42 275.5309,-42"/>
<polygon fill="#000000" stroke="#000000" points="275.7051,-45.5001 285.705,-42 275.705,-38.5001 275.7051,-45.5001"/>
</g>
<!-- n586ed369ed734dedab09f1e3dcba78da -->
<g id="node5" class="node">
<title>n586ed369ed734dedab09f1e3dcba78da</title>
<g id="a_node5"><a xlink:title="c">
<path fill="#84ffb2" fill-opacity="0.317647" stroke="#000000" d="M418,-60C418,-60 388,-60 388,-60 382,-60 376,-54 376,-48 376,-48 376,-36 376,-36 376,-30 382,-24 388,-24 388,-24 418,-24 418,-24 424,-24 430,-30 430,-36 430,-36 430,-48 430,-48 430,-54 424,-60 418,-60"/>
<text text-anchor="middle" x="403" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</a>
</g>
</g>
<!-- n2a0462e069864f3294925fda1831b656&#45;&gt;n586ed369ed734dedab09f1e3dcba78da -->
<g id="edge2" class="edge">
<title>n2a0462e069864f3294925fda1831b656&#45;&gt;n586ed369ed734dedab09f1e3dcba78da</title>
<path fill="none" stroke="#000000" d="M340.003,-42C348.0277,-42 356.9665,-42 365.5309,-42"/>
<polygon fill="#000000" stroke="#000000" points="365.7051,-45.5001 375.705,-42 365.705,-38.5001 365.7051,-45.5001"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sg1</span> <span class="o">=</span> <span class="n">seq_cluster</span><span class="p">([</span><span class="s1">&#39;inp&#39;</span><span class="p">],</span> <span class="s1">&#39;clust1&#39;</span><span class="p">)</span>
<span class="n">sg2</span> <span class="o">=</span> <span class="n">seq_cluster</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="s1">&#39;clust2&#39;</span><span class="p">)</span>
<span class="n">sg2</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">sg1</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">sg2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="n">sg1</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">sg2</span><span class="p">))</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">sg1</span><span class="p">,</span><span class="n">sg2</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="364pt" height="103pt"
 viewBox="0.00 0.00 364.00 102.93" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 98.9302)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-98.9302 360,-98.9302 360,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_n2e49953f71554555bf0715c5be5175e7</title>
<g id="a_clust1"><a xlink:title="clust1">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-11.9302C20,-11.9302 66,-11.9302 66,-11.9302 72,-11.9302 78,-17.9302 78,-23.9302 78,-23.9302 78,-74.9302 78,-74.9302 78,-80.9302 72,-86.9302 66,-86.9302 66,-86.9302 20,-86.9302 20,-86.9302 14,-86.9302 8,-80.9302 8,-74.9302 8,-74.9302 8,-23.9302 8,-23.9302 8,-17.9302 14,-11.9302 20,-11.9302"/>
<text text-anchor="middle" x="43" y="-71.7302" font-family="Times,serif" font-size="14.00" fill="#000000">clust1</text>
</a>
</g>
</g>
<g id="clust2" class="cluster">
<title>cluster_n8733b3d259ab4632bef5d78acbe20010</title>
<g id="a_clust2"><a xlink:title="clust2">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M110,-11.9302C110,-11.9302 336,-11.9302 336,-11.9302 342,-11.9302 348,-17.9302 348,-23.9302 348,-23.9302 348,-74.9302 348,-74.9302 348,-80.9302 342,-86.9302 336,-86.9302 336,-86.9302 110,-86.9302 110,-86.9302 104,-86.9302 98,-80.9302 98,-74.9302 98,-74.9302 98,-23.9302 98,-23.9302 98,-17.9302 104,-11.9302 110,-11.9302"/>
<text text-anchor="middle" x="223" y="-71.7302" font-family="Times,serif" font-size="14.00" fill="#000000">clust2</text>
</a>
</g>
</g>
<!-- ncfbd97de594c4acbb4abddaa1ad8a629 -->
<g id="node1" class="node">
<title>ncfbd97de594c4acbb4abddaa1ad8a629</title>
<g id="a_node1"><a xlink:title="inp">
<path fill="#6826fe" fill-opacity="0.482353" stroke="#000000" d="M58,-55.9302C58,-55.9302 28,-55.9302 28,-55.9302 22,-55.9302 16,-49.9302 16,-43.9302 16,-43.9302 16,-31.9302 16,-31.9302 16,-25.9302 22,-19.9302 28,-19.9302 28,-19.9302 58,-19.9302 58,-19.9302 64,-19.9302 70,-25.9302 70,-31.9302 70,-31.9302 70,-43.9302 70,-43.9302 70,-49.9302 64,-55.9302 58,-55.9302"/>
<text text-anchor="middle" x="43" y="-34.2302" font-family="Times,serif" font-size="14.00" fill="#000000">inp</text>
</a>
</g>
</g>
<!-- nfa7a43aba97e4a2da38e4d37b0ac03d9 -->
<g id="node2" class="node">
<title>nfa7a43aba97e4a2da38e4d37b0ac03d9</title>
<g id="a_node2"><a xlink:title="a">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M148,-55.9302C148,-55.9302 118,-55.9302 118,-55.9302 112,-55.9302 106,-49.9302 106,-43.9302 106,-43.9302 106,-31.9302 106,-31.9302 106,-25.9302 112,-19.9302 118,-19.9302 118,-19.9302 148,-19.9302 148,-19.9302 154,-19.9302 160,-25.9302 160,-31.9302 160,-31.9302 160,-43.9302 160,-43.9302 160,-49.9302 154,-55.9302 148,-55.9302"/>
<text text-anchor="middle" x="133" y="-34.2302" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- ncfbd97de594c4acbb4abddaa1ad8a629&#45;&gt;nfa7a43aba97e4a2da38e4d37b0ac03d9 -->
<g id="edge4" class="edge">
<title>ncfbd97de594c4acbb4abddaa1ad8a629&#45;&gt;nfa7a43aba97e4a2da38e4d37b0ac03d9</title>
<path fill="none" stroke="#000000" d="M77.9967,-37.9302C83.7458,-37.9302 89.7244,-37.9302 95.5309,-37.9302"/>
<polygon fill="#000000" stroke="#000000" points="88.0001,-41.4306 98,-37.9302 87.9999,-34.4306 88.0001,-41.4306"/>
</g>
<!-- n0caf6bd34a7b42a394e51062360e44de -->
<g id="node4" class="node">
<title>n0caf6bd34a7b42a394e51062360e44de</title>
<g id="a_node4"><a xlink:title="c">
<path fill="#84ffb2" fill-opacity="0.317647" stroke="#000000" d="M328,-55.9302C328,-55.9302 298,-55.9302 298,-55.9302 292,-55.9302 286,-49.9302 286,-43.9302 286,-43.9302 286,-31.9302 286,-31.9302 286,-25.9302 292,-19.9302 298,-19.9302 298,-19.9302 328,-19.9302 328,-19.9302 334,-19.9302 340,-25.9302 340,-31.9302 340,-31.9302 340,-43.9302 340,-43.9302 340,-49.9302 334,-55.9302 328,-55.9302"/>
<text text-anchor="middle" x="313" y="-34.2302" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</a>
</g>
</g>
<!-- ncfbd97de594c4acbb4abddaa1ad8a629&#45;&gt;n0caf6bd34a7b42a394e51062360e44de -->
<g id="edge3" class="edge">
<title>ncfbd97de594c4acbb4abddaa1ad8a629&#45;&gt;n0caf6bd34a7b42a394e51062360e44de</title>
<path fill="none" stroke="#000000" d="M77.9963,-17.8445C84.4609,-14.9839 91.2928,-12.4877 98,-10.9302 163.8046,4.3509 183.8241,2.6529 250,-10.9302 258.8927,-12.7555 268.0801,-15.8907 276.5968,-19.3929"/>
<polygon fill="#000000" stroke="#000000" points="275.3116,-22.6509 285.876,-23.4528 278.1175,-16.2378 275.3116,-22.6509"/>
</g>
<!-- n66b457ff496b489abdc5f653fb3432b6 -->
<g id="node3" class="node">
<title>n66b457ff496b489abdc5f653fb3432b6</title>
<g id="a_node3"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M238,-55.9302C238,-55.9302 208,-55.9302 208,-55.9302 202,-55.9302 196,-49.9302 196,-43.9302 196,-43.9302 196,-31.9302 196,-31.9302 196,-25.9302 202,-19.9302 208,-19.9302 208,-19.9302 238,-19.9302 238,-19.9302 244,-19.9302 250,-25.9302 250,-31.9302 250,-31.9302 250,-43.9302 250,-43.9302 250,-49.9302 244,-55.9302 238,-55.9302"/>
<text text-anchor="middle" x="223" y="-34.2302" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- nfa7a43aba97e4a2da38e4d37b0ac03d9&#45;&gt;n66b457ff496b489abdc5f653fb3432b6 -->
<g id="edge1" class="edge">
<title>nfa7a43aba97e4a2da38e4d37b0ac03d9&#45;&gt;n66b457ff496b489abdc5f653fb3432b6</title>
<path fill="none" stroke="#000000" d="M160.003,-37.9302C168.0277,-37.9302 176.9665,-37.9302 185.5309,-37.9302"/>
<polygon fill="#000000" stroke="#000000" points="185.7051,-41.4303 195.705,-37.9302 185.705,-34.4303 185.7051,-41.4303"/>
</g>
<!-- n66b457ff496b489abdc5f653fb3432b6&#45;&gt;n0caf6bd34a7b42a394e51062360e44de -->
<g id="edge2" class="edge">
<title>n66b457ff496b489abdc5f653fb3432b6&#45;&gt;n0caf6bd34a7b42a394e51062360e44de</title>
<path fill="none" stroke="#000000" d="M250.003,-37.9302C258.0277,-37.9302 266.9665,-37.9302 275.5309,-37.9302"/>
<polygon fill="#000000" stroke="#000000" points="275.7051,-41.4303 285.705,-37.9302 275.705,-34.4303 275.7051,-41.4303"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Point" class="doc_header"><code>Point</code><a href="https://github.com/fastai/fastdot/tree/master/fastdot/core.py#L155" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Point</code>(<strong><code>label</code></strong>=<em><code>'pnt'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Create a <a href="core.html#Node"><code>Node</code></a> with a 'point' shape</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sg</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="s1">&#39;clus&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">Point</span><span class="p">())</span>
<span class="n">sg</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
<span class="n">sg</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">a</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">b</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="n">sg</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="314pt" height="119pt"
 viewBox="0.00 0.00 313.60 119.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 115)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-115 309.6,-115 309.6,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_n525ee1034f254aa49958c0ad12896929</title>
<g id="a_clust1"><a xlink:title="clus">
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M20,-8C20,-8 285.6,-8 285.6,-8 291.6,-8 297.6,-14 297.6,-20 297.6,-20 297.6,-91 297.6,-91 297.6,-97 291.6,-103 285.6,-103 285.6,-103 20,-103 20,-103 14,-103 8,-97 8,-91 8,-91 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="152.8" y="-87.8" font-family="Times,serif" font-size="14.00" fill="#000000">clus</text>
</a>
</g>
</g>
<!-- n80d97af3546f4ad092561d033a679feb -->
<g id="node1" class="node">
<title>n80d97af3546f4ad092561d033a679feb</title>
<g id="a_node1"><a xlink:title="a">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M97.6,-52C97.6,-52 67.6,-52 67.6,-52 61.6,-52 55.6,-46 55.6,-40 55.6,-40 55.6,-28 55.6,-28 55.6,-22 61.6,-16 67.6,-16 67.6,-16 97.6,-16 97.6,-16 103.6,-16 109.6,-22 109.6,-28 109.6,-28 109.6,-40 109.6,-40 109.6,-46 103.6,-52 97.6,-52"/>
<text text-anchor="middle" x="82.6" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- n5d918906698e4cdc85a450e98e639d4d -->
<g id="node2" class="node">
<title>n5d918906698e4cdc85a450e98e639d4d</title>
<g id="a_node2"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M187.6,-52C187.6,-52 157.6,-52 157.6,-52 151.6,-52 145.6,-46 145.6,-40 145.6,-40 145.6,-28 145.6,-28 145.6,-22 151.6,-16 157.6,-16 157.6,-16 187.6,-16 187.6,-16 193.6,-16 199.6,-22 199.6,-28 199.6,-28 199.6,-40 199.6,-40 199.6,-46 193.6,-52 187.6,-52"/>
<text text-anchor="middle" x="172.6" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- n80d97af3546f4ad092561d033a679feb&#45;&gt;n5d918906698e4cdc85a450e98e639d4d -->
<g id="edge3" class="edge">
<title>n80d97af3546f4ad092561d033a679feb&#45;&gt;n5d918906698e4cdc85a450e98e639d4d</title>
<path fill="none" stroke="#000000" d="M109.603,-34C117.6277,-34 126.5665,-34 135.1309,-34"/>
<polygon fill="#000000" stroke="#000000" points="135.3051,-37.5001 145.305,-34 135.305,-30.5001 135.3051,-37.5001"/>
</g>
<!-- n61cf44639c004b44a232cf89d49ff669 -->
<g id="node3" class="node">
<title>n61cf44639c004b44a232cf89d49ff669</title>
<g id="a_node3"><a xlink:title="c">
<path fill="#84ffb2" fill-opacity="0.317647" stroke="#000000" d="M277.6,-62C277.6,-62 247.6,-62 247.6,-62 241.6,-62 235.6,-56 235.6,-50 235.6,-50 235.6,-38 235.6,-38 235.6,-32 241.6,-26 247.6,-26 247.6,-26 277.6,-26 277.6,-26 283.6,-26 289.6,-32 289.6,-38 289.6,-38 289.6,-50 289.6,-50 289.6,-56 283.6,-62 277.6,-62"/>
<text text-anchor="middle" x="262.6" y="-40.3" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</a>
</g>
</g>
<!-- n5d918906698e4cdc85a450e98e639d4d&#45;&gt;n61cf44639c004b44a232cf89d49ff669 -->
<g id="edge4" class="edge">
<title>n5d918906698e4cdc85a450e98e639d4d&#45;&gt;n61cf44639c004b44a232cf89d49ff669</title>
<path fill="none" stroke="#000000" d="M199.603,-37.0003C207.6277,-37.892 216.5665,-38.8852 225.1309,-39.8368"/>
<polygon fill="#000000" stroke="#000000" points="224.9796,-43.3414 235.305,-40.9672 225.7527,-36.3842 224.9796,-43.3414"/>
</g>
<!-- ncb39e8bb9e964583928bd6d26fac95ff -->
<g id="node4" class="node">
<title>ncb39e8bb9e964583928bd6d26fac95ff</title>
<g id="a_node4"><a xlink:title="pnt">
<ellipse fill="#4856fb" fill-opacity="0.670588" stroke="#000000" cx="17.8" cy="-52" rx="1.8" ry="1.8"/>
</a>
</g>
</g>
<!-- ncb39e8bb9e964583928bd6d26fac95ff&#45;&gt;n80d97af3546f4ad092561d033a679feb -->
<g id="edge2" class="edge">
<title>ncb39e8bb9e964583928bd6d26fac95ff&#45;&gt;n80d97af3546f4ad092561d033a679feb</title>
<path fill="none" stroke="#000000" d="M19.6695,-51.4807C23.8103,-50.3305 34.2824,-47.4216 45.5217,-44.2995"/>
<polygon fill="#000000" stroke="#000000" points="46.7579,-47.5887 55.4563,-41.5399 44.8844,-40.8441 46.7579,-47.5887"/>
</g>
<!-- ncb39e8bb9e964583928bd6d26fac95ff&#45;&gt;n61cf44639c004b44a232cf89d49ff669 -->
<g id="edge1" class="edge">
<title>ncb39e8bb9e964583928bd6d26fac95ff&#45;&gt;n61cf44639c004b44a232cf89d49ff669</title>
<path fill="none" stroke="#000000" d="M19.8186,-52.658C25.4201,-54.445 41.6641,-59.3638 55.6,-61 119.1634,-68.4628 136.1549,-69.4097 199.6,-61 208.0632,-59.8782 217.003,-57.9437 225.4055,-55.7722"/>
<polygon fill="#000000" stroke="#000000" points="226.6066,-59.0719 235.3199,-53.0446 224.7497,-52.3227 226.6066,-59.0719"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Experiments-with-data-structures">Experiments with data structures<a class="anchor-link" href="#Experiments-with-data-structures">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">_split</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">sep</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">path</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">sep</span><span class="p">),</span> <span class="n">path</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span>

<span class="k">class</span> <span class="nc">_Subgraphs</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__missing__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="n">parent</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span> <span class="n">_split</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">subgraph</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span><span class="o">.</span><span class="n">add_subgraph</span><span class="p">(</span><span class="n">subgraph</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">subgraph</span>

<span class="k">def</span> <span class="nf">make_dot_graph</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">Dot</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">subgraphs</span> <span class="o">=</span> <span class="n">_Subgraphs</span><span class="p">({</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">g</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">path</span><span class="p">,</span><span class="n">attr</span> <span class="ow">in</span> <span class="n">nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">parent</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">_split</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">subgraphs</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">attr</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">pydot</span><span class="o">.</span><span class="n">Edge</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="o">**</span><span class="n">attr</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nodes</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;tooltip&#39;</span><span class="p">:</span> <span class="s1">&#39;Aa&#39;</span><span class="p">},</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">{},</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fillcolor&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">edges</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,{</span><span class="s1">&#39;tooltip&#39;</span><span class="p">:</span><span class="s1">&#39;a-&gt;b&#39;</span><span class="p">}),</span>
    <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,{}),</span>
<span class="p">]</span>
<span class="n">make_dot_graph</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="242pt" height="44pt"
 viewBox="0.00 0.00 242.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 238,-40 238,4 -4,4"/>
<!-- a -->
<g id="node1" class="node">
<title>a</title>
<g id="a_node1"><a xlink:title="Aa">
<path fill="#12c8e6" fill-opacity="0.462745" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- b -->
<g id="node2" class="node">
<title>b</title>
<g id="a_node2"><a xlink:title="b">
<path fill="#78ffb8" fill-opacity="0.168627" stroke="#000000" d="M132,-36C132,-36 102,-36 102,-36 96,-36 90,-30 90,-24 90,-24 90,-12 90,-12 90,-6 96,0 102,0 102,0 132,0 132,0 138,0 144,-6 144,-12 144,-12 144,-24 144,-24 144,-30 138,-36 132,-36"/>
<text text-anchor="middle" x="117" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- a&#45;&gt;b -->
<g id="edge1" class="edge">
<title>a&#45;&gt;b</title>
<g id="a_edge1"><a xlink:title="a&#45;&gt;b">
<path fill="none" stroke="#000000" d="M54.003,-18C62.0277,-18 70.9665,-18 79.5309,-18"/>
<polygon fill="#000000" stroke="#000000" points="79.7051,-21.5001 89.705,-18 79.705,-14.5001 79.7051,-21.5001"/>
</a>
</g>
</g>
<!-- c -->
<g id="node3" class="node">
<title>c</title>
<g id="a_node3"><a xlink:title="c">
<path fill="#ffffff" stroke="#000000" d="M222,-36C222,-36 192,-36 192,-36 186,-36 180,-30 180,-24 180,-24 180,-12 180,-12 180,-6 186,0 192,0 192,0 222,0 222,0 228,0 234,-6 234,-12 234,-12 234,-24 234,-24 234,-30 228,-36 222,-36"/>
<text text-anchor="middle" x="207" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</a>
</g>
</g>
<!-- b&#45;&gt;c -->
<g id="edge2" class="edge">
<title>b&#45;&gt;c</title>
<path fill="none" stroke="#000000" d="M144.003,-18C152.0277,-18 160.9665,-18 169.5309,-18"/>
<polygon fill="#000000" stroke="#000000" points="169.7051,-21.5001 179.705,-18 169.705,-14.5001 169.7051,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">_to_pairs</span><span class="p">(</span><span class="n">inputs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

<span class="k">def</span> <span class="nf">dot_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;LR&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">nodes</span> <span class="o">=</span> <span class="p">[(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="n">edges</span> <span class="o">=</span> <span class="p">[(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tooltip&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">})</span> <span class="k">for</span> <span class="n">dst</span><span class="p">,</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
             <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">src</span> <span class="ow">in</span> <span class="n">_to_pairs</span><span class="p">(</span><span class="n">inputs</span><span class="p">)]</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">size</span> <span class="ow">or</span> <span class="mi">8</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>
    <span class="k">return</span> <span class="n">make_dot_graph</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span>  <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">D</span> <span class="o">=</span> <span class="s1">&#39;Aa&#39;</span><span class="p">,</span> <span class="s1">&#39;Bb&#39;</span><span class="p">,</span> <span class="s1">&#39;Cc&#39;</span><span class="p">,</span> <span class="s1">&#39;Dd&#39;</span>

<span class="n">graph</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]),</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">}),</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="p">({</span><span class="s1">&#39;tooltip&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)},</span> <span class="n">inputs</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;a&#39;: ({&#39;tooltip&#39;: &#39;Aa&#39;}, []),
 &#39;b&#39;: ({&#39;tooltip&#39;: &#39;Bb&#39;}, [&#39;a&#39;]),
 &#39;c&#39;: ({&#39;tooltip&#39;: &#39;Cc&#39;}, {&#39;x&#39;: &#39;a&#39;, &#39;y&#39;: &#39;c&#39;}),
 &#39;d&#39;: ({&#39;tooltip&#39;: &#39;Dd&#39;}, [&#39;b&#39;])}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">dot_graph</span><span class="p">({</span><span class="n">name</span><span class="p">:</span> <span class="p">({</span><span class="s1">&#39;tooltip&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)},</span> <span class="n">inputs</span><span class="p">)</span>
                     <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">draw</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[(&#39;a&#39;, {&#39;tooltip&#39;: &#39;Aa&#39;}), (&#39;b&#39;, {&#39;tooltip&#39;: &#39;Bb&#39;}), (&#39;c&#39;, {&#39;tooltip&#39;: &#39;Cc&#39;}), (&#39;d&#39;, {&#39;tooltip&#39;: &#39;Dd&#39;})]
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                              Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-51-6d5f5a8b8b42&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     return dot_graph({name: ({&#39;tooltip&#39;: str(value)}, inputs)
<span class="ansi-green-intense-fg ansi-bold">      3</span>                      for name, (value, inputs) in graph.items()}, size=10)
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg"> </span>g <span class="ansi-blue-fg">=</span> draw<span class="ansi-blue-fg">(</span>graph<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> g

<span class="ansi-green-fg">&lt;ipython-input-51-6d5f5a8b8b42&gt;</span> in <span class="ansi-cyan-fg">draw</span><span class="ansi-blue-fg">(graph)</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">def</span> draw<span class="ansi-blue-fg">(</span>graph<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     return dot_graph({name: ({&#39;tooltip&#39;: str(value)}, inputs)
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg">                      for name, (value, inputs) in graph.items()}, size=10)
</span><span class="ansi-green-intense-fg ansi-bold">      4</span> g <span class="ansi-blue-fg">=</span> draw<span class="ansi-blue-fg">(</span>graph<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> g

<span class="ansi-green-fg">&lt;ipython-input-48-9eec07b373c7&gt;</span> in <span class="ansi-cyan-fg">dot_graph</span><span class="ansi-blue-fg">(graph, size, direction, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     nodes <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">(</span>k<span class="ansi-blue-fg">,</span> v<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">for</span> k<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">(</span>v<span class="ansi-blue-fg">,</span>_<span class="ansi-blue-fg">)</span> <span class="ansi-green-fg">in</span> graph<span class="ansi-blue-fg">.</span>items<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     print<span class="ansi-blue-fg">(</span>nodes<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg">     edges = [(src, dst, {&#39;tooltip&#39;: name}) for dst, (_, inputs) in graph.items()
</span><span class="ansi-green-intense-fg ansi-bold">      5</span>              for name, src in _to_pairs(inputs)]
<span class="ansi-green-intense-fg ansi-bold">      6</span>     print<span class="ansi-blue-fg">(</span>edges<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-48-9eec07b373c7&gt;</span> in <span class="ansi-cyan-fg">&lt;listcomp&gt;</span><span class="ansi-blue-fg">(.0)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     print<span class="ansi-blue-fg">(</span>nodes<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     edges = [(src, dst, {&#39;tooltip&#39;: name}) for dst, (_, inputs) in graph.items()
<span class="ansi-green-fg">----&gt; 5</span><span class="ansi-red-fg">              for name, src in _to_pairs(inputs)]
</span><span class="ansi-green-intense-fg ansi-bold">      6</span>     print<span class="ansi-blue-fg">(</span>edges<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      7</span>     size <span class="ansi-blue-fg">=</span> size <span class="ansi-green-fg">or</span> <span class="ansi-cyan-fg">8</span><span class="ansi-blue-fg">+</span>len<span class="ansi-blue-fg">(</span>graph<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">3</span>

<span class="ansi-red-fg">NameError</span>: name &#39;_to_pairs&#39; is not defined</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GraphData</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">items</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">items</span><span class="p">,</span><span class="n">name</span>
    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_items</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">L</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">itemgot</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="n">graph</span><span class="o">.</span><span class="n">itemgot</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">draw_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">is_sub</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">GraphData</span><span class="p">):</span> <span class="n">o</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">draw_graph</span><span class="p">(</span><span class="n">o</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">Dot</span><span class="p">,</span><span class="n">Cluster</span><span class="p">)[</span><span class="n">is_sub</span><span class="p">](</span><span class="n">label</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span><span class="s1">&#39;__name__&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">get_items</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
    <span class="n">nodes</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="o">*</span><span class="n">items</span><span class="p">)</span>
    <span class="n">mapping</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="n">nodes</span><span class="p">))</span>
    <span class="n">g</span><span class="o">.</span><span class="n">add_items</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">mapping</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">mapping</span><span class="p">[</span><span class="n">v</span><span class="p">])</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">g</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">items</span> <span class="o">=</span> <span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;Aa&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;Bb&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;Cc&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;Dd&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="n">sg</span> <span class="o">=</span> <span class="n">GraphData</span><span class="p">((</span><span class="n">B</span><span class="p">,</span><span class="n">D</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sg&#39;</span><span class="p">)</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">GraphData</span><span class="p">((</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">),</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">C</span><span class="p">),</span> <span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">),</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">sg</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">draw_graph</span><span class="p">(</span><span class="n">sg</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="152pt" height="44pt"
 viewBox="0.00 0.00 152.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-40 148,-40 148,4 -4,4"/>
<!-- n98d6566a58204efc8b936acb7e9905bd -->
<g id="node1" class="node">
<title>n98d6566a58204efc8b936acb7e9905bd</title>
<g id="a_node1"><a xlink:title="Bb">
<path fill="#780dff" fill-opacity="0.564706" stroke="#000000" d="M42,-36C42,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 42,0 42,0 48,0 54,-6 54,-12 54,-12 54,-24 54,-24 54,-30 48,-36 42,-36"/>
<text text-anchor="middle" x="27" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- n22859426c27142ccaf526483e2c36a92 -->
<g id="node2" class="node">
<title>n22859426c27142ccaf526483e2c36a92</title>
<g id="a_node2"><a xlink:title="Dd">
<path fill="#ff6b37" fill-opacity="0.658824" stroke="#000000" d="M132,-36C132,-36 102,-36 102,-36 96,-36 90,-30 90,-24 90,-24 90,-12 90,-12 90,-6 96,0 102,0 102,0 132,0 132,0 138,0 144,-6 144,-12 144,-12 144,-24 144,-24 144,-30 138,-36 132,-36"/>
<text text-anchor="middle" x="117" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">d</text>
</a>
</g>
</g>
<!-- n98d6566a58204efc8b936acb7e9905bd&#45;&gt;n22859426c27142ccaf526483e2c36a92 -->
<g id="edge1" class="edge">
<title>n98d6566a58204efc8b936acb7e9905bd&#45;&gt;n22859426c27142ccaf526483e2c36a92</title>
<path fill="none" stroke="#000000" d="M54.003,-18C62.0277,-18 70.9665,-18 79.5309,-18"/>
<polygon fill="#000000" stroke="#000000" points="79.7051,-21.5001 89.705,-18 79.705,-14.5001 79.7051,-21.5001"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># TODO: only include items not in subgraphs</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">draw_graph</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="258pt" height="170pt"
 viewBox="0.00 0.00 258.00 170.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 166)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-166 254,-166 254,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_nbd247e3838834297ac2e991d0d6874ee</title>
<path fill="#555555" fill-opacity="0.133333" stroke="#000000" d="M94,-64C94,-64 230,-64 230,-64 236,-64 242,-70 242,-76 242,-76 242,-104 242,-104 242,-110 236,-116 230,-116 230,-116 94,-116 94,-116 88,-116 82,-110 82,-104 82,-104 82,-76 82,-76 82,-70 88,-64 94,-64"/>
</g>
<!-- na1bb615188554b4ea1891affffd98da9 -->
<g id="node1" class="node">
<title>na1bb615188554b4ea1891affffd98da9</title>
<g id="a_node1"><a xlink:title="Bb">
<path fill="#780dff" fill-opacity="0.564706" stroke="#000000" d="M132,-162C132,-162 102,-162 102,-162 96,-162 90,-156 90,-150 90,-150 90,-138 90,-138 90,-132 96,-126 102,-126 102,-126 132,-126 132,-126 138,-126 144,-132 144,-138 144,-138 144,-150 144,-150 144,-156 138,-162 132,-162"/>
<text text-anchor="middle" x="117" y="-140.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- na18295d4baaa480d9eaacf78affa3ac0 -->
<g id="node2" class="node">
<title>na18295d4baaa480d9eaacf78affa3ac0</title>
<g id="a_node2"><a xlink:title="Aa">
<path fill="#42edd3" fill-opacity="0.584314" stroke="#000000" d="M42,-108C42,-108 12,-108 12,-108 6,-108 0,-102 0,-96 0,-96 0,-84 0,-84 0,-78 6,-72 12,-72 12,-72 42,-72 42,-72 48,-72 54,-78 54,-84 54,-84 54,-96 54,-96 54,-102 48,-108 42,-108"/>
<text text-anchor="middle" x="27" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</a>
</g>
</g>
<!-- na18295d4baaa480d9eaacf78affa3ac0&#45;&gt;na1bb615188554b4ea1891affffd98da9 -->
<g id="edge2" class="edge">
<title>na18295d4baaa480d9eaacf78affa3ac0&#45;&gt;na1bb615188554b4ea1891affffd98da9</title>
<path fill="none" stroke="#000000" d="M54.003,-106.2018C62.4686,-111.2812 71.9516,-116.971 80.9389,-122.3634"/>
<polygon fill="#000000" stroke="#000000" points="79.3293,-125.4792 89.705,-127.623 82.9308,-119.4768 79.3293,-125.4792"/>
</g>
<!-- n9a121a91056942c0b801057bc2d950d1 -->
<g id="node3" class="node">
<title>n9a121a91056942c0b801057bc2d950d1</title>
<g id="a_node3"><a xlink:title="Bb">
<path fill="#780dff" fill-opacity="0.564706" stroke="#000000" d="M132,-108C132,-108 102,-108 102,-108 96,-108 90,-102 90,-96 90,-96 90,-84 90,-84 90,-78 96,-72 102,-72 102,-72 132,-72 132,-72 138,-72 144,-78 144,-84 144,-84 144,-96 144,-96 144,-102 138,-108 132,-108"/>
<text text-anchor="middle" x="117" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</a>
</g>
</g>
<!-- na18295d4baaa480d9eaacf78affa3ac0&#45;&gt;n9a121a91056942c0b801057bc2d950d1 -->
<g id="edge5" class="edge">
<title>na18295d4baaa480d9eaacf78affa3ac0&#45;&gt;n9a121a91056942c0b801057bc2d950d1</title>
<path fill="none" stroke="#000000" d="M54.003,-90C62.0277,-90 70.9665,-90 79.5309,-90"/>
<polygon fill="#000000" stroke="#000000" points="72.0001,-93.5004 82,-90 71.9999,-86.5004 72.0001,-93.5004"/>
</g>
<!-- n26accefc6ba142c9a17bae8cad492098 -->
<g id="node5" class="node">
<title>n26accefc6ba142c9a17bae8cad492098</title>
<g id="a_node5"><a xlink:title="Cc">
<path fill="#6a22fe" fill-opacity="0.356863" stroke="#000000" d="M132,-36C132,-36 102,-36 102,-36 96,-36 90,-30 90,-24 90,-24 90,-12 90,-12 90,-6 96,0 102,0 102,0 132,0 132,0 138,0 144,-6 144,-12 144,-12 144,-24 144,-24 144,-30 138,-36 132,-36"/>
<text text-anchor="middle" x="117" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</a>
</g>
</g>
<!-- na18295d4baaa480d9eaacf78affa3ac0&#45;&gt;n26accefc6ba142c9a17bae8cad492098 -->
<g id="edge3" class="edge">
<title>na18295d4baaa480d9eaacf78affa3ac0&#45;&gt;n26accefc6ba142c9a17bae8cad492098</title>
<path fill="none" stroke="#000000" d="M49.7108,-71.8314C60.796,-62.9632 74.2954,-52.1637 86.2852,-42.5718"/>
<polygon fill="#000000" stroke="#000000" points="88.6742,-45.1429 94.2965,-36.1628 84.3013,-39.6768 88.6742,-45.1429"/>
</g>
<!-- nb1356e8e712144488ff5b1e90e3829fb -->
<g id="node4" class="node">
<title>nb1356e8e712144488ff5b1e90e3829fb</title>
<g id="a_node4"><a xlink:title="Dd">
<path fill="#ff6b37" fill-opacity="0.658824" stroke="#000000" d="M222,-108C222,-108 192,-108 192,-108 186,-108 180,-102 180,-96 180,-96 180,-84 180,-84 180,-78 186,-72 192,-72 192,-72 222,-72 222,-72 228,-72 234,-78 234,-84 234,-84 234,-96 234,-96 234,-102 228,-108 222,-108"/>
<text text-anchor="middle" x="207" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#000000">d</text>
</a>
</g>
</g>
<!-- n9a121a91056942c0b801057bc2d950d1&#45;&gt;nb1356e8e712144488ff5b1e90e3829fb -->
<g id="edge1" class="edge">
<title>n9a121a91056942c0b801057bc2d950d1&#45;&gt;nb1356e8e712144488ff5b1e90e3829fb</title>
<path fill="none" stroke="#000000" d="M144.003,-90C152.0277,-90 160.9665,-90 169.5309,-90"/>
<polygon fill="#000000" stroke="#000000" points="169.7051,-93.5001 179.705,-90 169.705,-86.5001 169.7051,-93.5001"/>
</g>
<!-- n26accefc6ba142c9a17bae8cad492098&#45;&gt;n26accefc6ba142c9a17bae8cad492098 -->
<g id="edge4" class="edge">
<title>n26accefc6ba142c9a17bae8cad492098&#45;&gt;n26accefc6ba142c9a17bae8cad492098</title>
<path fill="none" stroke="#000000" d="M100.7183,-36.1527C98.2134,-45.5391 103.6406,-54 117,-54 125.1409,-54 130.3362,-50.8581 132.5861,-46.2796"/>
<polygon fill="#000000" stroke="#000000" points="136.0881,-46.3691 133.2817,-36.1527 129.1046,-45.8893 136.0881,-46.3691"/>
</g>
</g>
</svg>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;Aa&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;Bb&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;Cc&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;Dd&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>

<span class="n">graph</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]),</span>
    <span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}),</span>
    <span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>
 

